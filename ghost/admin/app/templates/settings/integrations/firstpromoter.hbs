<section class="gh-canvas">
    <GhCanvasHeader class="gh-canvas-header">
        <h2 class="gh-canvas-title" data-test-screen-title>
            <LinkTo @route="settings.integrations" data-test-link="integrations-back">Integrations</LinkTo>
            <span>{{svg-jar "arrow-right"}}</span>
            FirstPromoter
        </h2>
        <section class="view-actions">
            <GhTaskButton @task={{this.save}} @class="gh-btn gh-btn-blue gh-btn-icon" data-test-save-button={{true}} />
        </section>
    </GhCanvasHeader>

    {{#if this.showLeaveSettingsModal}}
        <GhFullscreenModal @modal="leave-settings"
            @confirm={{action "leaveSettings"}}
            @close={{action "toggleLeaveSettingsModal"}}
            @modifier="action wide" />
    {{/if}}

    <section class="view-container bt b--lightgrey-d1 pt5">
        <section class="app-grid">
            <div class="app-cell">
                <div class="bg-white mr3 display flex items-center justify-center br-pill shadow-1 pa3 dark-no-shadow">
                    <img class="app-icon" src="assets/img/firstpromoter.png" />
                </div>
            </div>
            <div class="app-cell">
                <h3>FirstPromoter</h3>
                <p>Launch your own member referral program</p>
            </div>
        </section>

        <div class="gh-setting-header gh-first-header">FirstPromoter configuration</div>
        <div class="flex flex-column br4 shadow-1 bg-grouped-table pa5 mt2">
            <div class="gh-setting-first">
                <div class="gh-setting-content">
                    <div class="gh-setting-title">Enable FirstPromoter</div>
                    <div class="gh-setting-desc">Enable <a href="https://firstpromoter.com/?fpr=ghost&fp_sid=admin" target="_blank">FirstPromoter</a> for tracking referrals</div>
                </div>
                <div class="gh-setting-action">
                    <div class="for-checkbox">
                        <label for="firstpromoter" class="checkbox">
                            <input
                                type="checkbox"
                                checked={{this.settings.firstpromoter}}
                                id="firstpromoter"
                                name="firstpromoter"
                                onclick={{action "update" value="target.checked"}}
                                data-test-firstpromoter-checkbox
                            >
                            <span class="input-toggle-component"></span>
                        </label>
                    </div>
                </div>
            </div>
            {{#liquid-if this.settings.firstpromoter class="nl5 nr5"}}
            <div class="gh-setting-last gh-setting-firstpromoter-liquid">
                <div class="gh-setting-content gh-setting-content--no-action">
                    <div class="gh-setting-title">FirstPromoter Tracking ID</div>
                    <div class="gh-setting-desc"> Affiliate and referral tracking, find your ID here </div>
                    <div class="gh-setting-content-extended">
                        <GhFormGroup @errors={{this.settings.errors}} @hasValidated={{this.settings.hasValidated}} @property="firstpromoterId">
                            <GhTextInput
                                @placeholder="XXXXXXXX"
                                @name="firstpromoter_id"
                                @value={{this.settings.firstpromoterId}}
                                @keyEvents={{hash
                                    Enter=(action "save")
                                }}
                            />
                            <GhErrorMessage @errors={{this.settings.errors}} @property="firstpromoterId"/>
                        </GhFormGroup>
                    </div>
                </div>
            </div>
            {{/liquid-if}}
        </div>
    </section>
</section>
